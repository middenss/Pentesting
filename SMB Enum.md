# SMB Enum
### Nmap
```
nmap --script=smb-enum-shares.nse -p 445 $IP
```
#### List No creds
```
smbclient -L //$IP
crackmapexec smb $IP -u 'a' -p '' --shares
```
### Connect to a folder no creds
```
smbclient -N //$IP/ShareName
```
### Connect to a folder with creds
```
smbclient --user=domain/user --password=password //$IP/ShareName
smbclient --user=domain/user --pw-nt-hash 8846F7EAEE8FB117AD06BDD830B7586C //$IP/ShareName
```
### Recursive list folder
```
smbmap -u "username" -p "password" -R ShareName -H $IP -P 445
```
### SYSVOL groups.xml
```
gpp-decrypt InsertHashHere
```
